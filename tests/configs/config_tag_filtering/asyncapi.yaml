asyncapi: "2.2.0"
info:
  title: Codegen rendering by tags
  description: This spec containes different channel operations with specific tags
  version: "1.0.0"
servers:
  rabbitmq:
    url: amqp://guest:guest@localhost:5672
    protocol: amqp
channels:
  c000:
    servers: [ 'rabbitmq' ]
    subscribe:
      message:
        $ref: "#/components/messages/Foo"
    publish:
      message:
        $ref: "#/components/messages/Foo"
  c001:
    servers: [ 'rabbitmq' ]
    subscribe:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: one
        - name: two
        - name: three
    publish:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: one
        - name: two
        - name: three
  c002:
    servers: [ 'rabbitmq' ]
    subscribe:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: two
        - name: three
    publish:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: one
        - name: three
  c003:
    servers: [ 'rabbitmq' ]
    subscribe:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: three
    publish:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: one
        - name: two
  c004:
    servers: [ 'rabbitmq' ]
    subscribe:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: two
    publish:
      message:
        $ref: "#/components/messages/Foo"
      tags:
        - name: two
components:
  messages:
    Foo:
      name: Foo
      payload:
        type: string
